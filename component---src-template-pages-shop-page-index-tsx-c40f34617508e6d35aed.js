"use strict";(self.webpackChunkagt_guntrade_shop=self.webpackChunkagt_guntrade_shop||[]).push([[180],{25872:function(e,t,n){n.d(t,{c4:function(){return f},wc:function(){return m},mq:function(){return u},Lm:function(){return h}});var i=Symbol.for("di"),r=!1;function a(e,t){void 0===t&&(t="");var n=e.displayName||e.name;return n&&t?"".concat(t,"(").concat(n,")"):n}function c(e,t){var n;return t.displayName=a(t)||a(e,"di"),t[i]&&t[i]!==e&&(n='You are trying to use replacement "'.concat(t.displayName,'" on multiple injectables. ')+"That will override only the last dependency, as each replacement is uniquely linked.",r||(console.error("Warning:",n),r=!0)),t[i]=e,t}var o=n(75937),l=n(67294),s=n(3013),d=n(88837),u=["0em","30em","48em","62em","80em","96em"].map((function(e){return"@media (min-width: "+e+")"})),f=c((function(e){return e.gimg}),(function(e){return(0,d.tZ)(o.Ee,{className:e.gimg.props.imgClassName,alt:e.gimg.props.alt,src:e.gimg.props.src})})),g=function(){return Math.max(document.documentElement.clientWidth||0,window.innerWidth||0)},h=function(){var e=l.useState(),t=e[0],n=e[1];return l.useEffect((function(){n(g());var e=function(){n(g())};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),t};function m(e,t,n){void 0===t&&(t=6),void 0===n&&(n=(0,d.tZ)(s.Box,{}));var i=t-(e.length%t||t);return i>0?Array(i).fill(n):[]}},56341:function(e,t,n){n.d(t,{D:function(){return u}});var i,r=n(3013),a=n(34633),c=n(1018),o=n(25872),l=n(81880),s=(0,n(13252).Z)(r.Box)(i||(i=(0,l.Z)(["\n  .banner-image {\n    height: 200px;\n    width: 100%;\n    object-fit: cover;\n  }\n"]))),d=n(88837),u=function(e){return(0,d.BX)(r.Box,{position:"relative",color:"white",children:[(0,d.tZ)(s,{children:(0,d.tZ)(o.c4,{gimg:(0,d.tZ)(a.S,{src:"https://i.imgur.com/8zG2Ymd.jpeg",alt:"bg",imgClassName:"banner-image",__imageData:n(39270)})})}),(0,d.tZ)(r.Flex,{position:"absolute",top:"5",w:"100%",justifyContent:"center",alignItems:"center",children:(0,d.BX)(r.Box,{w:"8xl",children:[(0,d.tZ)(c.O,{path:e.path}),(0,d.tZ)(r.Heading,{size:"2xl",my:"8",children:e.title})]})})]})}},67576:function(e,t,n){n.d(t,{v:function(){return h}});var i,r=n(3013),a=n(73321),c=n(34633),o=n(67294),l=n(81880),s=n(4382),d=n(88837);function u(e){var t=e.image,n=e.tags;return(0,d.BX)(r.Box,{className:"background",borderRadius:"md",boxShadow:"lg",bg:(0,a.ff)("gray.200","gray.600"),overflow:"hidden",position:"relative",children:[(0,d.tZ)(c.G,{onDragStart:function(e){return e.preventDefault()},draggable:"false",image:t.gatsbyImageData,alt:t.alt}),(0,d.tZ)(r.Flex,{position:"absolute",top:"0",left:"0",right:"0",p:2,children:n.map((function(e){return(0,d.tZ)(r.Badge,{variant:"solid",fontSize:"sm",fontWeight:"semibold",rounded:"md",px:2,mr:2,color:(t=e.color,i=null===(n=t.replace("#","").match(/../g))||void 0===n?void 0:n.map((function(e){return parseInt(e,16)})),.2126*i[0]+.7152*i[1]+.0722*i[2]>140?"black":"white"),bgColor:e.color,textTransform:"none",children:e.name},e.name);var t,n,i}))})]})}function f(e){var t=parseFloat(e.price).toFixed(2)+" €";if(e.discountPrice){var n=parseFloat(e.discountPrice).toFixed(2)+" €";return(0,d.BX)(r.Flex,{direction:"row",wrap:"wrap",justifyContent:{base:"center",md:"flex-start"},children:[(0,d.tZ)(r.Text,{fontSize:"sm",fontWeight:"semibold",color:"gray.600",textDecoration:"line-through",children:t}),(0,d.tZ)(r.Text,{fontSize:"sm",fontWeight:"bold",color:"red.500",ml:2,children:n})]})}return(0,d.tZ)(r.Box,{fontSize:"sm",fontWeight:"semibold",mb:2,children:(0,d.tZ)(r.Text,{children:t})})}function g(e){e.id;var t=e.image,n=e.name,a=e.categoriesString,c=e.price,g=e.discountPrice,h=e.createdAt,m=o.useState(function(e){if(void 0===e&&(e=[]),new Date(h).getTime()>Date.now()-6048e5&&e.push({name:"Neu",color:"#00ff00"}),g){var t=-100*(1-parseFloat(g)/parseFloat(c));e.push({name:t.toFixed(0)+"%",color:"#ff0000"})}return e}()),p=m[0];m[1];return(0,d.BX)(r.VStack,{css:(0,s.iv)(i||(i=(0,l.Z)(["\n  &:hover {\n    .background {\n      box-shadow: var(--chakra-shadows-xl);\n    }\n  }\n"]))),boxSize:"full",cursor:"pointer",textAlign:{base:"center",md:"left"},children:[(0,d.tZ)(u,{image:t,tags:p}),(0,d.BX)(r.Box,{w:"100%",children:[(0,d.tZ)(r.Text,{fontSize:"sm",isTruncated:!0,children:a||"-"}),(0,d.tZ)(r.Text,{fontWeight:"semibold",children:n}),(0,d.tZ)(f,{price:c,discountPrice:g})]})]})}function h(e){var t,n=e.tags.filter((function(e){return!e.startsWith("Kategorie:")})).map((function(e){return e.split(":")[1]})).join(", ");return(0,d.tZ)(g,{createdAt:e.createdAt,id:e.id,tags:[],image:e.featuredImage,name:e.title,categoriesString:n,price:e.contextualPricing.maxVariantPricing.price.amount,discountPrice:null===(t=e.contextualPricing.maxVariantPricing.compareAtPrice)||void 0===t?void 0:t.amount})}},99787:function(e,t,n){n.r(t),n.d(t,{default:function(){return F}});var i=n(67294),r=n(7611),a=n(42982),c=n(3013),o=n(73321),l=n(16985),s=n(31421),d=n(17716),u=n(57639),f=n(56839),g=n(95422),h=n(65214),m=n(98408),p=n(98745),b=n(55971),x=n(1018),v=n(25872),Z=n(67576),w=n(62105),S=n(88837),P=function(e){var t=(0,v.wc)(e.items);return(0,S.BX)(c.VStack,{spacing:"6",children:[e.title&&(0,S.tZ)(c.Heading,{textAlign:"center",size:"xl",borderBottom:"1px solid",children:e.title}),(0,S.BX)(c.SimpleGrid,{spacing:4,minChildWidth:e.minChildWidth||"200px",children:[e.items.map((function(t,n){return(0,S.tZ)(c.Link,{as:w.rU,to:e.getPath(t.handle),children:(0,Z.v)(t)},t.id)})),t]})]})},B=n(8532),C=n(56341),y=function(e){return(0,S.tZ)(S.HY,{children:(0,S.BX)(c.Box,{my:"2",position:"sticky",top:"0",alignSelf:"flex-start",zIndex:"1",bg:(0,o.ff)("white","gray.700"),children:[(0,S.BX)(c.Flex,{children:[e.isMobile?(0,S.tZ)(l.zx,{variant:"unstyled",leftIcon:(0,S.tZ)(s.JO,{as:b.ulB}),onClick:e.onMobileFilterClick,children:"Filter"}):(0,S.tZ)(l.zx,{leftIcon:(0,S.tZ)(s.JO,{as:b.ulB}),variant:"unstyled",cursor:"default",_focus:{boxShadow:"none"},children:"Filter"}),(0,S.tZ)(c.Spacer,{}),(0,S.tZ)(c.Box,{children:(0,S.tZ)(d.Ph,{placeholder:"Sortieren",variant:"unstyled",my:"2",icon:(0,S.tZ)(s.JO,{as:b.roE,mb:"1"}),onChange:function(t){return e.onSortChange(t.target.value)},children:e.sortOptions.map((function(e,t){return(0,S.tZ)("option",{value:e,children:e},t)}))})})]}),(0,S.tZ)(c.Divider,{})]})})},O=function(e){var t=i.useState([e.minPrice,e.maxPrice]),n=t[0],r=t[1];return(0,S.BX)(c.Box,{children:[(0,S.tZ)(c.Text,{fontWeight:"bold",children:"Preisklasse ("+n[0]+" - "+n[1]+"€)"}),(0,S.tZ)(c.Box,{px:"4",children:(0,S.BX)(u.U2,{min:e.minPrice,max:e.maxPrice,value:n,onChange:function(e){r(e)},onChangeEnd:function(t){return e.onPriceChange(t[0],t[1])},children:[(0,S.tZ)(u.ug,{children:(0,S.tZ)(u.I2,{})}),(0,S.tZ)(u.xW,{boxSize:6,index:0}),(0,S.tZ)(u.xW,{boxSize:6,index:1})]})})]})},k=function(e){var t=i.useState(e.activeTags),n=t[0],r=t[1],o=i.useMemo((function(){for(var t={},n=0,i=Object.values(e.allTags);n<i.length;n++){var r=i[n].split(":"),a=r[0],c=r[1];t[a]=t[a]||[],t[a].push(c)}return t}),[e.allTags]);return(0,S.BX)(c.VStack,{px:"2",spacing:4,divider:(0,S.tZ)(c.Divider,{}),align:"stretch",children:[(0,S.tZ)(S.HY,{children:Object.entries(o).map((function(t){var i=t[0],o=t[1];return(0,S.BX)(c.Box,{pb:"2",children:[(0,S.tZ)(c.Text,{fontWeight:"bold",children:i}),(0,S.tZ)(c.Stack,{children:o.map((function(t,c){var o=i+":"+t,l=n.includes(o);return(0,S.tZ)(f.XZ,{defaultChecked:l,onChange:function(){return t=o,i=n.includes(t)?n.filter((function(e){return e!==t})):[].concat((0,a.Z)(n),[t]),r(i),void e.onActiveTagsChange(i);var t,i},children:t},c)}))})]})}))}),(0,S.tZ)(O,Object.assign({},e.priceFilter))]})},z=function(e){var t=(0,g.qY)(),n=(0,h.ac)("(min-width: 1268px)")[0],r=i.useRef(null),a=i.useCallback((function(){e.onLoadMore()}),[e.loading,e.onLoadMore()]);return i.useEffect((function(){var e=function(){r.current&&(r.current.getBoundingClientRect().bottom<window.pageYOffset+window.innerHeight&&a())};return window.addEventListener("scroll",e),function(){window.removeEventListener("scroll",e)}}),[]),(0,S.BX)(B.I,{withSearch:!1,activePath:e.activePath,children:[(0,S.tZ)(C.D,Object.assign({},e.header)),(0,S.BX)(x.V,{children:[(0,S.tZ)(y,Object.assign({},e.header,{isMobile:!n,onMobileFilterClick:t.onToggle})),(0,S.BX)(c.Flex,{children:[(0,S.tZ)(S.HY,{children:n?(0,S.tZ)(c.Box,{w:"30%",position:"sticky",top:"12",alignSelf:"flex-start",children:(0,S.tZ)(k,Object.assign({},e.filter))}):(0,S.tZ)(m.dy,{isOpen:t.isOpen,onClose:t.onClose,placement:"left",blockScrollOnMount:!1,children:(0,S.BX)(m.sc,{p:"4",children:[(0,S.tZ)(c.Heading,{as:"h3",mb:"4",children:"Filter"}),(0,S.tZ)(k,Object.assign({},e.filter))]})})}),(0,S.BX)(c.Box,{w:"100%",ref:r,children:[(0,S.tZ)(P,Object.assign({},e.products)),(0,S.tZ)(c.Center,{w:"100%",children:e.loading&&(0,S.tZ)(p.$,{})})]})]})]})]})},T=function(e){var t=e.pageContext,n=e.path,a=i.useState(Object.assign({},t.filter.initialFilters,{minPrice:0,initialFilters:Object.assign({},t.filter.initialFilters,{minPrice:0})})),c=a[0],o=a[1],l=i.useState("TITLE"),s=l[0],d=l[1],u=i.useState(!1),f=u[0],g=u[1],h=i.useState(t.products.items),m=h[0],p=h[1],b=i.useState(),x=b[0],v=b[1],Z=(0,r.ty)(!1,{term:c.term,tags:c.tags,minPrice:c.minPrice,maxPrice:c.maxPrice},t.filter.allTags,s,!1,12,x,c.initialFilters,f,t.filter.activeTags,t.filter.categoryTagsAndPriorities),w=Z.data,P=Z.isFetching,B=Z.products,C=Z.hasNextPage,y=Z.resetCursor,O=Z.fetchNextPage,k=i.useState(!1),T=k[0],F=k[1],j=i.useState(!1),X=j[0],E=j[1],Y=i.useState(t.filter.hasNextPage),N=Y[0],W=Y[1];return i.useEffect((function(){W(C)}),[C]),i.useEffect((function(){E(!0)}),[c]),i.useEffect((function(){JSON.stringify(B.map((function(e){return e.handle})))!==JSON.stringify(m.map((function(e){return e.handle})))&&(X?(p(B),E(!1)):p(m.concat(B)),v(w))}),[JSON.stringify(B.map((function(e){return e.handle}))),X]),i.useEffect((function(){T&&N&&(P||O()),F(!1)}),[T,N,P]),(0,S.tZ)(S.HY,{children:(0,S.tZ)(z,{activePath:n,loading:P,filter:Object.assign({},t.filter,{activeTags:[],allTags:t.filter.productPageTags,onActiveTagsChange:function(e){y(),o(Object.assign({},c,{tags:e,initialFilters:c}))},priceFilter:{minPrice:0,maxPrice:t.filter.initialFilters.maxPrice,onPriceChange:function(e,t){y(),o(Object.assign({},c,{minPrice:e,maxPrice:t}))}}}),header:{title:t.header.title,path:n,sortOptions:["Alphabetisch","Preis aufsteigend","Preis absteigend"],onSortChange:function(e){var t;switch(e){case"Alphabetisch":default:t="TITLE",g(!1);break;case"Preis aufsteigend":t="PRICE",g(!1);break;case"Preis absteigend":t="PRICE",g(!0)}y(),E(!0),d(t)}},products:{items:m,getPath:function(e){return n.replace(/\/$/,"")+"/"+e}},onLoadMore:function(){return F(!0)}})})},F=function(e){return(0,S.tZ)(r.X$,{children:(0,S.tZ)(T,Object.assign({},e))})}},39270:function(e){e.exports=JSON.parse('{"layout":"constrained","backgroundColor":"transparent","images":{"fallback":{"src":"/static/6698c92312e15b4d499cb5be14c016bc/cc220/8zG2Ymd.jpg","srcSet":"/static/6698c92312e15b4d499cb5be14c016bc/d4287/8zG2Ymd.jpg 750w,\\n/static/6698c92312e15b4d499cb5be14c016bc/10529/8zG2Ymd.jpg 1080w,\\n/static/6698c92312e15b4d499cb5be14c016bc/142f6/8zG2Ymd.jpg 1366w,\\n/static/6698c92312e15b4d499cb5be14c016bc/cc220/8zG2Ymd.jpg 1920w","sizes":"(min-width: 1920px) 1920px, 100vw"},"sources":[{"srcSet":"/static/6698c92312e15b4d499cb5be14c016bc/f1626/8zG2Ymd.webp 750w,\\n/static/6698c92312e15b4d499cb5be14c016bc/f3f4e/8zG2Ymd.webp 1080w,\\n/static/6698c92312e15b4d499cb5be14c016bc/40ee4/8zG2Ymd.webp 1366w,\\n/static/6698c92312e15b4d499cb5be14c016bc/2bac2/8zG2Ymd.webp 1920w","type":"image/webp","sizes":"(min-width: 1920px) 1920px, 100vw"}]},"width":1920,"height":737}')}}]);
//# sourceMappingURL=component---src-template-pages-shop-page-index-tsx-c40f34617508e6d35aed.js.map