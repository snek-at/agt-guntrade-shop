"use strict";(self.webpackChunkagt_guntrade_shop=self.webpackChunkagt_guntrade_shop||[]).push([[63],{28063:function(e,t,i){i.r(t),i.d(t,{InteractiveImage:function(){return I},default:function(){return S}});var n=i(95422),l=i(3013),r=i(47825),a=i(95751),o=i(34633),s=i(67294),c=i(14317),d=i(98408),u=i(29802),m=i(28569),h=i(36253),g=i(75937),p=i(16985),f=i(34288),b=i(88837),v=function(e){var t,i,n=e.isOpen,r=e.onClose,o=e.onUpdate,v=e.onDelete,I=e.data,S=(0,c.pm)(),Z=s.useState(I),x=Z[0],y=Z[1];s.useEffect((function(){y(I),B(I)}),[I]);var C=(0,f.cI)({defaultValues:x}),E=C.register,B=C.reset,T=C.handleSubmit,U=C.formState,X=U.errors,k=U.isSubmitting,D=U.isDirty,O=(0,a.useSnekFinder)({mode:"selector",onAction:function(e){"SELECTOR_SELECT"===e.type&&o({image:e.payload.item.src,title:e.payload.item.name,description:e.payload.item.description||""})}});return(0,b.BX)(d.u_,{isOpen:n,onClose:r,size:"3xl",children:[O.finderElement,(0,b.tZ)(d.ZA,{}),(0,b.tZ)(d.hz,{children:(0,b.BX)("form",{onSubmit:T((function(e){o(e),S({title:"Success",description:"The image has been updated",status:"success",duration:5e3,isClosable:!0}),r()})),children:[(0,b.tZ)(d.xB,{children:"Update Image"}),(0,b.tZ)(d.ol,{}),(0,b.tZ)(d.fe,{children:(0,b.BX)(l.Flex,{children:[(0,b.BX)(l.Box,{flex:"1",p:"4",children:[(0,b.BX)(u.NI,{isRequired:!0,isInvalid:!!X.title,children:[(0,b.tZ)(u.lX,{htmlFor:"title",children:"Title"}),(0,b.tZ)(m.II,Object.assign({placeholder:"Title"},E("title",{required:"This is required",maxLength:{value:80,message:"Max length is 80"}}))),(0,b.tZ)(u.J1,{children:null==X||null===(t=X.title)||void 0===t?void 0:t.message})]}),(0,b.BX)(u.NI,{isRequired:!0,isInvalid:!!X.description,children:[(0,b.tZ)(u.lX,{htmlFor:"description",children:"Description (alt)"}),(0,b.tZ)(h.g,Object.assign({maxH:"15vh",placeholder:"Description"},E("description",{required:"This is required",maxLength:{value:140,message:"Max length is 140"}}))),(0,b.tZ)(u.J1,{children:null==X||null===(i=X.description)||void 0===i?void 0:i.message})]})]}),(0,b.tZ)(g.Ee,{h:"300px",w:"300px",cursor:k?"not-allowed":"pointer",objectFit:"cover",src:I.image,onClick:function(){O.toggleSelector()}})]})}),(0,b.BX)(d.mz,{children:[(0,b.tZ)(p.zx,{mr:"4",colorScheme:"red",onClick:function(){v(),S({title:"Deleted",description:"The image has been cleared from the field.",status:"success",duration:5e3,isClosable:!0}),r()},children:"Delete"}),(0,b.tZ)(p.zx,{colorScheme:"blue",mr:4,isLoading:k,isDisabled:!D,type:"submit",children:"Save"})]})]})})]})},I=(0,r.KS)((function(e){var t=e.data,i=e.handleUpdateValue,r=e.children,s=(0,n.qY)(),c=(0,a.useSnekFinder)({mode:"selector",onAction:function(e){"SELECTOR_SELECT"===e.type&&i({internalImageUrl:e.payload.item.src,title:e.payload.item.name,alt:e.payload.item.description})}}),d=t.gatsbyImage&&(0,o.e)(t.gatsbyImage),u=!1;return null!==t.internalImageUrl&&(null!=t&&t.internalImageUrl||t.gatsbyImage)&&(u=!0),(0,b.BX)(b.HY,{children:[c.finderElement,(0,b.tZ)(v,Object.assign({},s,{data:{image:t.internalImageUrl||d||"",description:(null==t?void 0:t.alt)||"",title:(null==t?void 0:t.title)||""},onUpdate:function(e){var t=e.image,n=e.description,l=e.title;i({internalImageUrl:t,alt:n,title:l})},onDelete:function(){return i({internalImageUrl:null})}})),(0,b.tZ)(l.Box,{onClick:function(){u?s.onOpen():c.toggleSelector()},children:(0,b.tZ)(b.HY,{children:r})})]})})),S=I}}]);
//# sourceMappingURL=63-2d4ee908b893d823f928.js.map