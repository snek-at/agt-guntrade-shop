"use strict";(self.webpackChunkagt_guntrade_shop=self.webpackChunkagt_guntrade_shop||[]).push([[360],{73495:function(e,t,i){var n=i(15861),r=i(87757),a=i.n(r),o=i(16985),l=i(28569),s=i(3013),c=i(98408),d=i(14317),u=i(67294),h=i(29802),g=i(56839),f=i(36253),m=i(34288),p=i(11900),b=i(88837);t.Z=function(e){var t=e.isOpen,i=e.heading,r=e.text,Z=e.wishlist,x=e.onClose,v=(0,d.pm)(),B={firstName:"",lastName:"",email:"",message:"Sehr geehrtes AGT Team,\nich würde gerne ein Kaufangebot für folgende Artikel einholen:\n\n"+Z.map((function(e){return"- "+e.quantity+" x "+e.title})).join("\n")+"\n\n\nMit freundlichen Grüßen!\n    ",agbChecked:!1},w=(0,m.cI)({defaultValues:B}),y=w.handleSubmit,W=w.reset,D=w.register,I=w.formState,S=I.errors,C=I.isSubmitting;u.useEffect((function(){W(B)}),[Z]);var X=function(){var e=(0,n.Z)(a().mark((function e(t){var i,n,r,o,l,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.firstName,n=t.lastName,r=t.email,o=t.message,l="Kaufanfrage für "+Z.map((function(e){return e.title})).join(", "),s="\nAnfrage von "+i+" "+n+" ("+r+") über AGT Shop.\n\n<== Inhalt der Anfrage ==>\n\n"+o+"\n",e.next=5,(0,p.C)({fromEmail:r,name:i+" "+n,subject:l,message:s});case 5:v({title:"Anfrage erfolgreich versendet",description:"Vielen Dank für Ihre Anfrage. Wir werden uns so schnell wie möglich bei Ihnen melden.",status:"success",duration:9e3,isClosable:!0}),x();case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,b.BX)(c.u_,{isOpen:t,onClose:function(){x()},isCentered:!0,scrollBehavior:"inside",children:[(0,b.tZ)(c.ZA,{}),(0,b.BX)(c.hz,{bg:"gray.50",borderRadius:"5px",minH:"60vh",maxW:{base:"90vw",md:"64vw",xl:"60vw"},children:[(0,b.tZ)(c.xB,{ml:"5",fontWeight:"bold",children:i}),(0,b.tZ)(c.ol,{}),(0,b.BX)(c.fe,{mx:"5",mb:"5",children:[(0,b.tZ)(s.Text,{mb:"3",children:r}),(0,b.BX)("form",{onSubmit:y(X),children:[(0,b.BX)(s.Flex,{mb:"3",direction:{base:"column",md:"row"},children:[(0,b.tZ)(s.Box,{mr:"5",w:{base:"100%",md:"50%"},children:(0,b.BX)(h.NI,{isInvalid:!!S.firstName,children:[(0,b.tZ)(h.lX,{htmlFor:"first-name",children:"Vorname"}),(0,b.tZ)(l.II,Object.assign({bg:"white",placeholder:"Max"},D("firstName",{required:!0}),{borderColor:"#D4D4D9"}))]})}),(0,b.tZ)(s.Box,{w:{base:"100%",md:"50%"},children:(0,b.BX)(h.NI,{isInvalid:!!S.lastName,children:[(0,b.tZ)(h.lX,{htmlFor:"last-name",children:"Nachname"}),(0,b.tZ)(l.II,Object.assign({bg:"white",placeholder:"Mustermann"},D("lastName",{required:!0}),{borderColor:"#D4D4D9"}))]})})]}),(0,b.tZ)(s.Box,{mb:"3",children:(0,b.BX)(h.NI,{isInvalid:!!S.email,children:[(0,b.tZ)(h.lX,{htmlFor:"email",children:"Email Adresse"}),(0,b.tZ)(l.II,Object.assign({bg:"white",placeholder:"max.mustermann@example.at"},D("email",{required:!0,pattern:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i}),{borderColor:"#D4D4D9"}))]})}),(0,b.tZ)(s.Box,{mb:"5",children:(0,b.BX)(h.NI,{isInvalid:!!S.message,children:[(0,b.tZ)(h.lX,{htmlFor:"message",children:"Nachricht"}),(0,b.tZ)(f.g,Object.assign({bg:"white",resize:"vertical",borderColor:"#D4D4D9",h:"30vh"},D("message",{required:!0})))]})}),(0,b.BX)(s.Box,{children:[(0,b.BX)(h.NI,{isInvalid:!!S.agbChecked,children:[(0,b.BX)(s.Flex,{children:[(0,b.tZ)(g.XZ,Object.assign({},D("agbChecked",{required:!0}),{borderColor:"#D4D4D9",bg:"white",h:"fit-content",mt:"0.5",mr:"2"})),(0,b.tZ)(s.Text,{mt:"-2px",children:"Ich habe die AGBs gelesen und stimme der Verarbeitung meiner Daten zu."})]}),S.agbChecked&&(0,b.tZ)(h.J1,{children:"Bitte akzeptieren Sie die AGBs"})]}),(0,b.tZ)(o.zx,{mt:"4",colorScheme:"agt.grayScheme",type:"submit",isLoading:C,children:"Absenden"})]})]})]})]})]})}},56341:function(e,t,i){i.d(t,{D:function(){return u}});var n,r=i(3013),a=i(34633),o=i(1018),l=i(25872),s=i(81880),c=(0,i(13252).Z)(r.Box)(n||(n=(0,s.Z)(["\n  .banner-image {\n    height: 200px;\n    width: 100%;\n    object-fit: cover;\n  }\n"]))),d=i(88837),u=function(e){return(0,d.BX)(r.Box,{position:"relative",color:"white",children:[(0,d.tZ)(c,{children:(0,d.tZ)(l.c4,{gimg:(0,d.tZ)(a.S,{src:"https://i.imgur.com/8zG2Ymd.jpeg",alt:"bg",imgClassName:"banner-image",__imageData:i(39270)})})}),(0,d.tZ)(r.Flex,{position:"absolute",top:"5",w:"100%",justifyContent:"center",alignItems:"center",children:(0,d.BX)(r.Box,{w:"8xl",children:[(0,d.tZ)(o.O,{path:e.path}),(0,d.tZ)(r.Heading,{size:"2xl",my:"8",children:e.title})]})})]})}},16511:function(e,t,i){i.d(t,{E:function(){return a}});var n=i(67294),r=function(){function e(){}return e.setWishlist=function(t){"undefined"!=typeof window&&localStorage.setItem(e.key,JSON.stringify(t))},e.getWishlist=function(){return"undefined"==typeof window?[]:JSON.parse(window.localStorage.getItem(e.key)||"[]")},e.addToWishlist=function(t){var i=e.getWishlist();i.push(t),e.setWishlist(i)},e.updateQuantity=function(t,i){var n=e.getWishlist(),r=n.find((function(e){return e.id===t}));r&&(r.quantity=i),e.setWishlist(n)},e.removeFromWishlist=function(t){var i=e.getWishlist(),n=i.findIndex((function(e){return e.id===t}));-1!==n&&(i.splice(n,1),e.setWishlist(i))},e}();function a(){var e=n.useState(r.getWishlist()),t=e[0],i=e[1];return n.useEffect((function(){var e=r.getWishlist();i(e)}),[]),{wishlist:t,addToWishlist:function(e){r.addToWishlist(e),i(r.getWishlist())},updateQuantity:function(e,t){r.updateQuantity(e,t),i(r.getWishlist())},removeFromWishlist:function(e){r.removeFromWishlist(e),i(r.getWishlist())}}}r.key="wishlist"},51751:function(e,t,i){i.r(t),i.d(t,{default:function(){return X}});var n=i(16511),r=(i(27207),i(3013)),a=i(73321),o=i(95422),l=i(16985),s=i(31421),c=i(67294),d=i(1018),u=i(25827),h=i(55971),g=i(34633),f=i(67576),m=i(54310),p=i(62105),b=i(88837),Z=function(e){var t=c.useMemo((function(){return e.products.map((function(e){return(0,b.tZ)(p.rU,{to:"/products/"+e.handle,draggable:"false",onDragStart:function(e){return e.preventDefault()},children:(0,f.v)(e)})}))}),[e.products]);return(0,b.BX)(r.VStack,{spacing:6,children:[(0,b.tZ)(r.Heading,{textAlign:"center",size:"xl",borderBottom:"1px solid",children:e.title}),(0,b.tZ)(m.Z,{items:t,containerPadding:{base:15},progressProps:{colorScheme:"agt.grayScheme",bgColor:(0,a.ff)("gray.200","gray.600")}})]})},x=i(8532),v=i(56341),B=i(73495);function w(e){var t=parseFloat(e.price).toFixed(2)+" €";if(e.discountPrice){var i=parseFloat(e.discountPrice).toFixed(2)+" €";return(0,b.BX)(r.Flex,{direction:"row",wrap:"wrap",justifyContent:{base:"center",md:"flex-start"},children:[(0,b.tZ)(r.Text,{fontSize:"xl",fontWeight:"semibold",color:"gray.600",textDecoration:"line-through",children:t}),(0,b.tZ)(r.Heading,{size:"3xl",mt:{base:0,md:4},fontWeight:"semibold",color:"red.500",children:i})]})}return(0,b.tZ)(r.Heading,{size:"3xl",fontWeight:"semibold",children:t})}var y=function(e){var t=e.image,i=t.alt,n=t.gatsbyImageData;return(0,b.tZ)(r.WrapItem,{boxSize:{base:"16",md:"20"},onClick:e.onClick,cursor:"pointer",boxShadow:e.active?"inset 0px 4px 0px 0px #eb1933":"none",p:2,mr:2,mb:2,_hover:{bg:(0,a.ff)("gray.300","gray.800")},transition:"ease-out",children:(0,b.tZ)(g.G,{image:n,alt:i})})},W=function(e){var t=c.useState(e.featuredImage),i=t[0],n=t[1];return(0,b.BX)(r.Box,{my:"4",w:"100%",children:[(0,b.tZ)(r.AspectRatio,{ratio:16/9,children:(0,b.tZ)(r.Box,{children:(0,b.tZ)(g.G,{image:i.gatsbyImageData,alt:i.alt})})}),(0,b.BX)(r.Wrap,{bg:(0,a.ff)("gray.200","gray.700"),spacing:0,justify:"center",children:[(0,b.tZ)(y,{image:e.featuredImage,active:i===e.featuredImage,onClick:function(){return n(e.featuredImage)}}),e.images.map((function(e,t){return(0,b.tZ)(y,{image:e,active:i===e,onClick:function(){return n(e)}},t)}))]}),(0,b.tZ)(r.Box,{display:{base:"none",md:"block"},children:(0,b.tZ)(S,Object.assign({},e.productMoreDetail))})]})},D=function(e){var t=(0,o.qY)(),i=t.isOpen,n=t.onOpen,c=t.onClose;return(0,b.BX)(b.HY,{children:[(0,b.tZ)(B.Z,{wishlist:[{title:e.title,quantity:1}],isOpen:i,heading:(0,b.tZ)("p",{children:"Kaufanfrage (unverbindlich)"}),text:"",onClose:function(){return c()}}),(0,b.tZ)(r.Box,{w:{base:"100%",md:"40%"},minW:"300px",pl:{base:0,md:4},position:"sticky",top:"15",alignSelf:"flex-start",children:(0,b.BX)(r.VStack,{align:"left",spacing:"4",children:[(0,b.tZ)(w,{price:e.price,discountPrice:e.discountPrice}),(0,b.tZ)(r.Text,{size:"xs",fontWeight:"thin",children:"inkl. MwSt."}),(0,b.tZ)(r.Text,{color:(0,a.ff)("green.500","green.300"),children:e.status}),(0,b.tZ)(l.zx,{fontSize:"2xl",fontWeight:"semibold",textTransform:"uppercase",leftIcon:(0,b.tZ)(s.JO,{as:u.a9O}),borderRadius:"full",bg:"agt.gray",color:"white",_hover:{bg:"agt.blue"},size:"lg",onClick:n,children:(0,b.tZ)(r.Text,{children:"Jetzt anfragen"})}),(0,b.tZ)(r.Divider,{}),(0,b.BX)(r.Flex,{alignItems:"center",justifyContent:"center",fontSize:"xl",children:[(0,b.tZ)(r.Box,{mx:"auto",onClick:function(){return e.onWishlistAdd(e.id)},children:(0,b.tZ)(r.Text,{fontWeight:"semibold",color:e.isOnWishList?"red.500":void 0,_hover:{color:e.isOnWishList?"red.400":"red.300"},cursor:"pointer",children:(0,b.BX)(r.Center,{children:[(0,b.tZ)(s.JO,{as:h.$0H,mr:"2"}),"Merken"]})})}),(0,b.tZ)(r.Box,{mx:"auto",children:(0,b.tZ)(I,{})})]}),(0,b.tZ)(r.Divider,{})]})})]})};function I(){var e="undefined"!=typeof window?window.location.href:"",t=(0,o.VP)(e),i=t.hasCopied,n=t.onCopy;return(0,b.tZ)(r.Text,{fontWeight:"semibold",verticalAlign:"center",color:i?"red.500":void 0,_hover:{color:i?"red.400":"red.300"},cursor:"pointer",onClick:n,children:(0,b.BX)(r.Center,{children:[(0,b.tZ)(s.JO,{as:h.Lrt,mr:"2"}),"Teilen",i&&(0,b.tZ)(r.Text,{ml:"2",fontWeight:"thin",children:"(Kopiert!)"})]})})}var S=function(e){var t=(0,a.ff)("#000000","#ffffff"),i=function(e,t,i){return e.replaceAll(t,i)}(e.description,"#000000",t);return(0,b.tZ)(r.Box,{py:"8",children:(0,b.tZ)(r.Box,{dangerouslySetInnerHTML:{__html:i}})})},C=function(e){return(0,b.BX)(x.I,{withSearch:!0,activePath:e.header.path,children:[(0,b.tZ)(v.D,Object.assign({},e.header)),(0,b.tZ)(d.V,{children:(0,b.BX)(r.VStack,{spacing:12,w:"100%",children:[(0,b.BX)(r.Box,{w:"100%",children:[(0,b.BX)(r.Flex,{direction:{base:"column",lg:"row"},children:[(0,b.tZ)(W,Object.assign({},e.imageSlider,{productMoreDetail:e.productMoreDetail})),(0,b.tZ)(D,Object.assign({},e.productDetail))]}),(0,b.tZ)(r.Box,{display:{base:"block",md:"none"},children:(0,b.tZ)(S,Object.assign({},e.productMoreDetail))})]}),(0,b.tZ)(Z,Object.assign({title:"Unsere Empfehlungen"},e.featuredProducts)),(0,b.tZ)(r.Box,{h:"14"})]})})]})},X=function(e){var t=e.pageContext,i=e.path,r=(0,n.E)(),a=r.wishlist,o=r.addToWishlist,l=r.removeFromWishlist,s=a.some((function(e){return e.id===t.productDetail.id}));return(0,b.tZ)(C,{featuredProducts:{products:t.featuredProducts},header:{title:t.header.title,path:i},imageSlider:t.imageSlider,productDetail:Object.assign({title:t.header.title},t.productDetail,{status:"Verfügbar",isOnWishList:s,onWishlistAdd:function(e){if(s)l(e);else{var i=t.productDetail.tags.filter((function(e){return!e.startsWith("Kategorie:")})).map((function(e){return e.split(":")[1]})).join(", ");o({id:e,handle:t.handle,title:t.header.title,price:t.productDetail.price,reducedPrice:t.productDetail.discountPrice,image:t.imageSlider.featuredImage,categoriesString:i,quantity:1})}}}),productMoreDetail:t.productMoreDetail})}}}]);
//# sourceMappingURL=component---src-template-pages-product-page-index-tsx-9bbefd3f301aa58bba00.js.map